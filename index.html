<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rivendell Study Ambiance</title>

<!-- Tolkien-like fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&family=Uncial+Antiqua&display=swap" rel="stylesheet">

<style>
  /* General body styling */
  body {
    margin: 0;
    font-family: 'Uncial Antiqua', serif;
    background-image: none;
    background-size: cover;
    background-position: center;
    color: #fffbe6;
    height: 100vh;
    overflow: hidden;
  }

  /* Video background */
  #bgVideo {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -1;
    display: block;
  }

  /* SOUND PANEL (top left) */
  #soundPanel {
    position: fixed;
    top: 20px;
    left: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 3;
  }

  /* POMODORO PANEL (bottom left) */
  #pomodoroPanel {
    position: fixed;
    bottom: 20px;
    left: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 3;
  }

  /* Timer display */
  #timer {
    font-size: 30px;
    background: rgba(0,0,0,0.6);
    color: #fffbe6;
    padding: 10px 20px;
    border-radius: 8px;
    font-family: 'Cinzel Decorative', serif;
    text-shadow: 0 0 6px gold;
  }

  /* Timer input controls */
  #timer-controls {
    margin-top: 5px;
  }

  input[type="number"] {
    width: 50px;
    text-align: center;
    margin: 0 5px;
    font-family: 'Uncial Antiqua', serif;
    background: rgba(0,0,0,0.5);
    border: 1px solid rgba(212,175,55,0.6);
    border-radius: 6px;
    color: #fffbe6;
  }

  /* Messages/Gandalf */
  #messages {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: rgba(0,0,0,0.6);
    padding: 15px 25px;
    border-radius: 10px;
    z-index: 3;
    display: flex;
    align-items: center;
    gap: 10px;
    font-family: 'Uncial Antiqua', serif;
    font-size: 18px;
    color: #fffbe6;
    text-shadow: 0 0 8px gold;
    box-shadow: 0 0 12px rgba(255, 215, 0, 0.4);
  }

  .gandalf-gif {
    height: 50px;
  }

  /* Golden glowing buttons */
  button {
    margin: 5px 0;
    background: linear-gradient(to bottom, #d4af37, #8b6914);
    padding: 10px 18px;
    border-radius: 10px;
    border: 2px solid #c9a33f;
    color: #fffbe6;
    cursor: pointer;
    font-family: 'Cinzel Decorative', serif;
    text-shadow: 1px 1px 2px #000;
    box-shadow: 0 0 10px rgba(212,175,55,0.6);
    transition: all 0.2s ease-in-out;
  }

  button:hover {
    background: linear-gradient(to bottom, #e8c85c, #a07c2c);
    box-shadow: 0 0 14px rgba(255,215,0,0.8);
  }

  /* Audio icon buttons */
  #controls a img {
    cursor: pointer;
    transition: transform 0.2s;
    border-radius: 10px;
    background: rgba(0,0,0,0.6);
    border: 1px solid rgba(212,175,55,0.5);
    padding: 10px;
    width: 50px;
    height: 50px;
    box-shadow: 0 0 8px rgba(0,0,0,0.4);
  }

  #controls a img:hover {
    transform: scale(1.1);
    box-shadow: 0 0 12px rgba(255,215,0,0.6);
  }

  /* Volume controls label */
  #volume-controls label {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #fffbe6;
    margin: 5px 0;
    font-family: 'Uncial Antiqua', serif;
    text-shadow: 0 0 6px gold;
  }

  /* Glowing Elvish sliders */
  #volume-controls input[type="range"] {
    -webkit-appearance: none;
    width: 100px;
    height: 6px;
    background: rgba(0,0,0,0.5);
    border-radius: 3px;
    outline: none;
    box-shadow: inset 0 0 5px rgba(212,175,55,0.5);
    cursor: pointer;
  }

  #volume-controls input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    background: linear-gradient(to bottom, #d4af37, #8b6914);
    border: 2px solid #c9a33f;
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(255,215,0,0.7);
    cursor: pointer;
    transition: all 0.2s ease-in-out;
  }

  #volume-controls input[type="range"]::-webkit-slider-thumb:hover {
    box-shadow: 0 0 14px rgba(255,215,0,1);
  }

  #volume-controls input[type="range"]::-moz-range-track {
    background: rgba(0,0,0,0.5);
    height: 6px;
    border-radius: 3px;
    box-shadow: inset 0 0 5px rgba(212,175,55,0.5);
  }

  #volume-controls input[type="range"]::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: linear-gradient(to bottom, #d4af37, #8b6914);
    border: 2px solid #c9a33f;
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(255,215,0,0.7);
    cursor: pointer;
    transition: all 0.2s ease-in-out;
  }

  #volume-controls input[type="range"]::-moz-range-thumb:hover {
    box-shadow: 0 0 14px rgba(255,215,0,1);
  }

</style>
</head>
<body>

<video id="bgVideo" autoplay loop muted>
  <source src="RivendellLive.mp4" type="video/mp4">
</video>

<div id="messages">
  <img src="gandalf.gif" alt="Gandalf" class="gandalf-gif">
  Welcome to Rivendell traveler!
</div>

<!-- SOUND PANEL (Top Left) -->
<div id="soundPanel">
  <div id="controls">
    <a href="javascript:void(0)" onclick="toggleAudio('rivendellMusic')"><img src="Notes.png" alt="Rivendell Music"></a>
    <a href="javascript:void(0)" onclick="toggleAudio('fireplace')"><img src="fire.png" alt="Fireplace"></a>
    <a href="javascript:void(0)" onclick="toggleAudio('rain')"><img src="rain.png" alt="Rain"></a>
  </div>

  <button id="volumeBtn" onclick="toggleVolume()">Volume</button>

  <div id="volume-controls" style="display:none;">
    <label>Music: <input type="range" id="musicVol" min="0" max="1" step="0.01" value="0.5"></label>
    <label>Fire: <input type="range" id="fireVol" min="0" max="1" step="0.01" value="0.5"></label>
    <label>Rain: <input type="range" id="rainVol" min="0" max="1" step="0.01" value="0.5"></label>
  </div>
</div>

<!-- POMODORO PANEL (Bottom Left) -->
<div id="pomodoroPanel">
  <div id="timer">50:00</div>

  <button id="settingsBtn" onclick="toggleSettings()">Settings</button>

  <div id="timer-controls" style="display:none;">
    Work: <input type="number" id="workInput" value="50"> 
    Break: <input type="number" id="breakInput" value="10"> <br><br>
    <button onclick="startPomodoro()">Start</button>
    <button onclick="pausePomodoro()">Pause</button>
    <button onclick="resetPomodoro()">Reset</button>
  </div>
</div>

<!-- Audio tracks -->
<audio id="rivendellMusic" src="Rivendell-Music.mp3" loop></audio>
<audio id="fireplace" src="Fireplace.mp3" loop></audio>
<audio id="rain" src="LightRain.mp3" loop></audio>

<script>
/* Audio toggle */
function toggleAudio(id) {
  const audio = document.getElementById(id);
  if(audio.paused) audio.play();
  else audio.pause();
}

/* Volume sliders */
document.getElementById('musicVol').addEventListener('input', function() {
  document.getElementById('rivendellMusic').volume = this.value;
});
document.getElementById('fireVol').addEventListener('input', function() {
  document.getElementById('fireplace').volume = this.value;
});
document.getElementById('rainVol').addEventListener('input', function() {
  document.getElementById('rain').volume = this.value;
});

/* Toggle volume controls */
function toggleVolume() {
  const volumeControls = document.getElementById('volume-controls');
  const volumeBtn = document.getElementById('volumeBtn');
  if (volumeControls.style.display === "none" || volumeControls.style.display === "") {
    volumeControls.style.display = "block";
    volumeBtn.textContent = "Hide Volume";
  } else {
    volumeControls.style.display = "none";
    volumeBtn.textContent = "Volume";
  }
}

/* Toggle timer settings */
function toggleSettings() {
  const settings = document.getElementById('timer-controls');
  const settingsBtn = document.getElementById('settingsBtn');
  if (settings.style.display === "none" || settings.style.display === "") {
    settings.style.display = "block";
    settingsBtn.textContent = "Hide Settings";
  } else {
    settings.style.display = "none";
    settingsBtn.textContent = "Settings";
  }
}

/* Pomodoro timer */
let timerInterval;
let timer = 0;
let isWork = true;

function updateDisplay() {
  const minutes = Math.floor(timer / 60).toString().padStart(2, '0');
  const seconds = (timer % 60).toString().padStart(2, '0');
  document.getElementById('timer').textContent = `${minutes}:${seconds}`;
}

function startPomodoro() {
  if (!timer || timer <= 0) {
    const workTime = parseInt(document.getElementById('workInput').value) * 60;
    const breakTime = parseInt(document.getElementById('breakInput').value) * 60;
    timer = isWork ? workTime : breakTime;
  }

  if (timerInterval) clearInterval(timerInterval);

  timerInterval = setInterval(() => {
    if (timer > 0) {
      timer--;
      updateDisplay();
    } else {
      isWork = !isWork;
      timer = isWork
        ? parseInt(document.getElementById('workInput').value) * 60
        : parseInt(document.getElementById('breakInput').value) * 60;
      alert(isWork ? "Back to work!" : "Time for a break!");
      updateDisplay();
    }
  }, 1000);
}

function pausePomodoro() {
  clearInterval(timerInterval);
}

function resetPomodoro() {
  clearInterval(timerInterval);
  isWork = true;
  timer = parseInt(document.getElementById('workInput').value) * 60;
  updateDisplay();
}

/* Initialize timer */
timer = parseInt(document.getElementById('workInput').value) * 60;
updateDisplay();
</script>

</body>
</html>
